<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello World</title>
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
import React, { Component } from 'react';
import { render } from 'react-dom';
import Hello from './Hello';
import './style.css';

class LoginControl extends React.Component{
    constructor(props){
        super(props)
        this.state = {
            isLoggedIn:false
        }
        this.handleLogoutClick = this.handleLogoutClick.bind(this)
        this.handleLoginClick = this.handleLoginClick.bind(this)

    }
    handleLogoutClick(){
        this.setState({
            isLoggedIn:false
        })
    }
    handleLoginClick(){
        this.setState({
            isLoggedIn:true
        })
    }
    render(){

        let button = null

        if(this.state.isLoggedIn){
            button = <LogoutButton onClick = {this.handleLogoutClick} />
        }else{
            button = <LoginButton onClick = {this.handleLoginClick} />

        }
        return( 
        <div>
            <Greeting isLoggedIn = {this.state.isLoggedIn} />
            {button}
        </div>        
        )
    }
}
 class Greeting extends Component{
     render(){
         const isLoggedIn = this.props.isLoggedIn
            if(isLoggedIn){
         return <h1>Welcome back!</h1>;
     }else{
         return  <h1>Please sign up.</h1>
     }
         
     }

 }

// function UserGreeting(props) {
//   return <h1>Welcome back!</h1>;
// }

// function GuestGreeting(props) {
//   return <h1>Please sign up.</h1>;
// }

// function Greeting(props) {
//   const isLoggedIn = props.isLoggedIn;
//   if (isLoggedIn) {
//     return <UserGreeting />;
//   }
//   return <GuestGreeting />;
// }



 class LogoutButton extends Component{
     render(){
         return(
            <button onClick={this.props.onClick}>
      Logout
    </button>
         )
     }
 }
 class LoginButton extends Component{
     render(){
         return(
            <button onClick={this.props.onClick}>
      Login
    </button>
         )
     }
 }


// ReactDOM.render(
// <LoginControl />,  document.getElementById('root')
// )

render(<LoginControl />, document.getElementById('root'));


</script>
    <!--
      Note: this page is a great way to try React but it's not suitable for production.
      It slowly compiles JSX with Babel in the browser and uses a large development build of React.

      To set up a production-ready React build environment, follow these instructions:
      * https://reactjs.org/docs/add-react-to-a-new-app.html
      * https://reactjs.org/docs/add-react-to-an-existing-app.html

      You can also use React without JSX, in which case you can remove Babel:
      * https://reactjs.org/docs/react-without-jsx.html
      * https://reactjs.org/docs/cdn-links.html
    -->
  </body>
</html>